<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Brar Punjabi Kosh</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f9e8;
      margin: 20px;
      user-select: none; /* Disable text selection */
    }
    h1 {
      text-align: center;
      color: #006400;
    }
    .search-container {
      position: relative;
      width: 175px;
      margin: 0 auto 20px;
    }
    input[type="text"] {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 16px;
    }
    .clear-btn {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      cursor: pointer;
      color: #ccc;
      font-size: 18px;
      display: none; /* Initially hidden */
    }
#recordsContainer {
  max-height: 400px;
  overflow-y: auto;
  margin-bottom: 20px;
  scrollbar-width: thin; /* For Firefox */
  scrollbar-color: #ccc transparent; /* For Firefox */
}

#recordsContainer::-webkit-scrollbar {
  width: 8px; /* Scrollbar width for WebKit-based browsers */
}

#recordsContainer::-webkit-scrollbar-thumb {
  background-color: #ccc; /* Thumb color */
  border-radius: 4px;
}

#recordsContainer::-webkit-scrollbar-track {
  background: transparent; /* Track background */
}

    ul {
      list-style: none;
      padding: 0;
    }
    li {
      background-color: #e6ffe6;
      margin: 10px 0;
      padding: 10px;
      border: 1px solid #006400;
      border-radius: 5px;
    }
    li span.word {
      font-weight: bold;
    }
    .pagination {
      text-align: center;
      margin: 20px 0;
    }
    .pagination button {
      margin: 0 5px;
      padding: 10px;
      background: #4caf50;
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 5px;
      font-size: 18px;
    }
    .pagination button:disabled {
      background: #ccc;
      cursor: not-allowed;
    }
    .links {
      text-align: center;
      margin-top: 20px;
    }
    .links a {
      margin: 0 10px;
      text-decoration: none;
      color: #006400;
      font-weight: bold;
    }
    #aboutPopup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: white;
      border: 1px solid #ccc;
      border-radius: 10px;
      padding: 20px;
      text-align: center;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    #aboutPopup button {
      margin-top: 20px;
      padding: 10px 20px;
      background: #4caf50;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    /* Loading message styles */
#loadingMessage {
  position: relative; /* Keep it in the flow of the document */
  font-size: 24px;
  font-weight: bold;
  color: #4caf50;
  display: block;
  margin: 0 auto; /* Center horizontally */
  text-align: center; /* Ensure the text itself is centered */
}

  </style>
</head>
<body>
<!-- Help Button -->
<div style="position: absolute; top: 10px; right: 10px;">
  <button onclick="showHelpPopup()" style="background: none; border: none; cursor: pointer;">
    <img src="https://raw.githubusercontent.com/ShabadShala/Brar-Punjabi-Kosh/main/help-icon.png" alt="Help" style="width: 24px; height: 24px;">
  </button>
</div>


<!-- Help Popup -->
<div id="helpPopup" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 90%; max-width: 400px; background: #fff; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); padding: 20px; border-radius: 8px; text-align: center; z-index: 1000;">
<p style="font-size: 15px; color: #333; text-align: center; margin-bottom: 10px; font-weight: bold;">
  ‡®ï‡©ã‡®∂ ‡®¨‡®æ‡®∞‡©á ‡®∏‡®π‡®æ‡®á‡®§‡®æ
</p>
<p style="font-size: 14px; color: #333; text-align: left;">
  üîπ ‡®≤‡®ø‡®ñ‡©á ‡®ó‡®è ‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä ‡®Ö‡©±‡®ñ‡®∞‡®æ‡®Ç ‡®Æ‡©Å‡®§‡®æ‡®¨‡®ï, ‡®π‡©á‡®†‡®æ‡®Ç ‡®â‡®®‡©ç‡®π‡®æ‡®Ç ‡®Ö‡©±‡®ñ‡®∞‡®æ‡®Ç ‡®§‡©ã‡®Ç ‡®∂‡©Å‡®∞‡©Ç ‡®π‡©ã‡®£ ‡®µ‡®æ‡®≤‡©á ‡®®‡®§‡©Ä‡®ú‡©á ‡®¶‡®ø‡®ñ‡®æ‡®à ‡®¶‡©á‡®£‡®ó‡©á<br>
  üîπ ‡®™‡©à‡®∞ ‡®¨‡®ø‡©∞‡®¶‡©Ä ‡®≤‡©±‡®ó‡©Ä ‡®µ‡®æ‡®≤‡®æ ‡®Ö‡©±‡®ñ‡®∞ ‡®á‡®ï‡©±‡®†‡®æ ‡®ü‡®æ‡®à‡®™ ‡®ï‡®∞‡®® ‡®®‡®æ‡®≤ ‡®π‡©Ä ‡®∏‡®π‡©Ä ‡®®‡®§‡©Ä‡®ú‡©á ‡®¶‡®ø‡®∏‡®£‡®ó‡©á<br>
  üîπ ‡®≤‡®ø‡®ñ‡©á ‡®π‡©ã‡®è ‡®Ö‡©±‡®ñ‡®∞ ‡®Æ‡®ø‡®ü‡®æ‡®â‡®£ ‡®≤‡®à ‡®ï‡©Ä‡®¨‡©ã‡®∞‡®° ‡®§‡©ã‡®Ç BackSpace ‡®ú‡®æ‡®Ç ‡®ï‡®æ‡®ü‡©Ä ‡®¶‡©Ä ‡®µ‡®∞‡®§‡©ã‡®Ç ‡®ï‡®∞ ‡®∏‡®ï‡®¶‡©á ‡®π‡©ã<br>
  üîπ ‡®á‡©±‡®ï ‡®µ‡®æ‡®∞ ‡®µ‡©±‡®ß ‡®§‡©ã‡®Ç ‡®µ‡©±‡®ß 10 ‡®∂‡®¨‡®¶-‡®Ö‡®∞‡®• ‡®¶‡®ø‡®∏‡®£‡®ó‡©á, ‡®ú‡®ø‡®®‡©ç‡®π‡®æ‡®Ç ‡®®‡©Ç‡©∞ ‡®∏‡®ï‡®∞‡©ã‡®≤ ‡®ï‡®∞‡®ï‡©á ‡®¶‡©á‡®ñ ‡®∏‡®ï‡®¶‡©á ‡®π‡©ã<br>
  üîπ ‡®™‡®ø‡®õ‡®≤‡©á, ‡®Ö‡®ó‡®≤‡©á, ‡®™‡®π‡®ø‡®≤‡©á ‡®§‡©á ‡®Ü‡®ñ‡®∞‡©Ä ‡®™‡©∞‡®®‡©á ‡®â‡©±‡®§‡©á ‡®ú‡®æ‡®£ ‡®≤‡®à ‡®π‡©á‡®†‡®æ‡®Ç ‡®¨‡®£‡©á ‡®ö‡®æ‡®∞ ‡®¨‡®ü‡®® ‡®µ‡®∞‡®§ ‡®∏‡®ï‡®¶‡©á ‡®π‡©ã<br>
</p>

  <button onclick="closeHelpPopup()" style="margin-top: 10px; padding: 8px 16px; font-size: 14px; background: #006400; color: #fff; border: none; border-radius: 4px; cursor: pointer;">OK</button>
</div>

<!-- Overlay for Dim Background -->
<div id="popupOverlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 999;"></div>

  <h1>Brar Punjabi Kosh</h1>
  <div class="search-container">
    <input type="text" id="searchBox" placeholder="Filter records..." oninput="filterRecords()">
    <span class="clear-btn" id="clearButton" onclick="clearSearch()">&#x2715;</span>
  </div>
  <div id="loadingMessage">Loading...</div> <!-- Loading message -->
  <div id="recordsContainer">
    <ul id="recordsList"></ul>
  </div>
  <div class="pagination" id="pagination" style="display: none;">
    <button onclick="goStart()" id="btnStart" disabled>&#x23EE;</button> <!-- Start -->
    <button onclick="goPrevious()" id="btnPrevious" disabled>‚óÄÔ∏è</button> <!-- Previous -->
    <button onclick="goNext()" id="btnNext" disabled>‚ñ∂Ô∏è</button> <!-- Next -->
    <button onclick="goEnd()" id="btnEnd" disabled>&#x23ED;</button> <!-- End -->
  </div>
<div style="width: 225px; height: 1px; background-color: #006400; margin: 10px auto;"></div>
<div style="text-align: center; font-size: 16px; color: #333;">
  Designed and maintained by 
  <a href="https://t.me/ShabadShala" target="_blank" style="color: #0000EE; text-decoration: none;">ShabadShala</a>.
</div>


  <script>
    let allRecords = [];
    let currentRecords = [];
    let currentPage = 1;
    const recordsPerPage = 10;

    async function fetchAllRecords() {
      document.getElementById('loadingMessage').style.display = 'block'; // Show loading message
      const scriptURL = "https://script.google.com/macros/s/AKfycbyLkv5u8NDrYaP1BeMP5aUAvIY3F0mxpLUQPh4ATnciEtvv9A9rV3B5F1_TZ8TLln9CyA/exec";
      try {
        const response = await fetch(`${scriptURL}?all=true`);
        const rawRecords = await response.json();
        allRecords = rawRecords.slice(1); // Skip the header record
        currentRecords = [...allRecords];
        displayRecords();
        updatePagination();
        document.getElementById('loadingMessage').style.display = 'none'; // Hide loading message
      } catch (error) {
        const list = document.getElementById('recordsList');
        list.innerHTML = `<li style="color: red;">Error fetching records.</li>`;
        document.getElementById('loadingMessage').style.display = 'none'; // Hide loading message
      }
    }

    function displayRecords() {
      const list = document.getElementById('recordsList');
      list.innerHTML = '';
      const startIndex = (currentPage - 1) * recordsPerPage;
      const paginatedRecords = currentRecords.slice(startIndex, startIndex + recordsPerPage);

      paginatedRecords.forEach(record => {
        const li = document.createElement('li');
        li.innerHTML = `<span class="word">${record.word}</span> - ${record.meaning}`;
        list.appendChild(li);
      });
    }

    function updatePagination() {
      const totalPages = Math.ceil(currentRecords.length / recordsPerPage);
      const pagination = document.getElementById('pagination');
      pagination.style.display = currentRecords.length > 10 ? 'block' : 'none';

      document.getElementById('btnStart').disabled = currentPage === 1;
      document.getElementById('btnPrevious').disabled = currentPage === 1;
      document.getElementById('btnNext').disabled = currentPage === totalPages || totalPages === 0;
      document.getElementById('btnEnd').disabled = currentPage === totalPages || totalPages === 0;
    }

    function filterRecords() {
      const searchTerm = document.getElementById('searchBox').value.toLowerCase();
      currentRecords = allRecords.filter(record =>
        record.word.toLowerCase().startsWith(searchTerm)
      );
      currentPage = 1;
      displayRecords();
      updatePagination();
      toggleClearButton();
    }

    function clearSearch() {
      document.getElementById('searchBox').value = '';
      currentRecords = [...allRecords];
      currentPage = 1;
      displayRecords();
      updatePagination();
      toggleClearButton();
    }

    function toggleClearButton() {
      const searchBox = document.getElementById('searchBox');
      const clearButton = document.getElementById('clearButton');
      clearButton.style.display = searchBox.value ? 'block' : 'none';
    }

    function goStart() {
      currentPage = 1;
      displayRecords();
      updatePagination();
    }

    function goPrevious() {
      if (currentPage > 1) {
        currentPage--;
        displayRecords();
        updatePagination();
      }
    }

    function goNext() {
      const totalPages = Math.ceil(currentRecords.length / recordsPerPage);
      if (currentPage < totalPages) {
        currentPage++;
        displayRecords();
        updatePagination();
      }
    }

    function goEnd() {
      currentPage = Math.ceil(currentRecords.length / recordsPerPage);
      displayRecords();
      updatePagination();
    }


    fetchAllRecords();
function showHelpPopup() {
  document.getElementById("helpPopup").style.display = "block";
  document.getElementById("popupOverlay").style.display = "block";
}

function closeHelpPopup() {
  document.getElementById("helpPopup").style.display = "none";
  document.getElementById("popupOverlay").style.display = "none";
}
  </script>

<div style="display: flex; align-items: center; justify-content: center; margin-top: 20px;">
  <h3 style="margin-right: 10px;">Views </h3>
  <!-- hitwebcounter Code START -->
  <a href="https://www.hitwebcounter.com" target="_blank">
    <img src="https://hitwebcounter.com/counter/counter.php?page=17674514&style=0009&nbdigits=5&type=page&initCount=0" 
         title="Counter Widget" alt="Visit counter For Websites" border="0" />
  </a>
  <!-- hitwebcounter Code END -->
</div>

<div style="display: flex; align-items: center; justify-content: center;">
  <h3 style="margin-right: 10px;">Visitor </h3>
<!-- hitwebcounter Code START -->
<a href="https://www.hitwebcounter.com" target="_blank">
<img src="https://hitwebcounter.com/counter/counter.php?page=17691912&style=0047&nbdigits=5&type=ip&initCount=50" title="Counter Widget" Alt="Visit counter For Websites"   border="0" /></a>                 
  </a>
  <!-- hitwebcounter Code END -->
</div>

</body>
</html>                                    
